<ion-header>
  <ion-navbar>
    <ion-title>
      Atlas
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-item *ngIf="list_uf.length">
    <ion-label>Estados</ion-label>
    <ion-select [(ngModel)]="parameters.uf">
        <ion-option *ngFor="let state of list_uf" [value]="state.id">{{state.name}}</ion-option>
    </ion-select>
  </ion-item>
 
  <ion-item *ngIf="ready_pt_br">
    <ion-label>Vari√°vel</ion-label>
    <ion-select [(ngModel)]="parameters.var" (ngModelChange)="update($event)">
        <ion-option *ngFor="let variable of pt_br.var[parameters.eixo]" [value]="variable.id">{{variable.title}}</ion-option>
    </ion-select>
  </ion-item>

  <ion-item *ngIf="parameters.ano > 0">
    <ion-label>Ano</ion-label>
    <ion-select [(ngModel)]="parameters.ano">
        <ion-option *ngFor="let ano of anos[parameters.var][parameters.slc].reverse()" [value]="ano">{{ano}}</ion-option>
    </ion-select>
  </ion-item>
  
  <ion-item *ngIf="ready_pt_br">
      <div>
          <view-barras *ngIf="parameters.ano > 0 && correctView(3, 'barras')" [url]="getQuery(parameters)"></view-barras>
          <view-treemap *ngIf="parameters.ano > 0 && correctView(3, 'treemap_scc')" [url]="getQuery(parameters)"></view-treemap>
        </div>
      
        <div>
          <view-barras *ngIf="parameters.ano > 0 && correctView(2, 'barras')" [url]="getQuery(parameters)"></view-barras>
          <view-treemap *ngIf="parameters.ano > 0 && correctView(2, 'treemap_scc')" [url]="getQuery(parameters)"></view-treemap>
        </div>
        
  </ion-item>
  <hr>
  


</ion-content>
