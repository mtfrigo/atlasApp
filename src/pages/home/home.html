<ion-header>
  <ion-navbar>
    <ion-title>
      Atlas
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-item *ngIf="list_uf.length">
    <ion-label>Estados</ion-label>
    <ion-select [(ngModel)]="parameters.uf">
        <ion-option *ngFor="let state of list_uf" [value]="state.id">{{state.name}}</ion-option>
    </ion-select>
  </ion-item>

  <ion-item *ngIf="ready_pt_br">
    <ion-label>Vari√°vel</ion-label>
    <ion-select [(ngModel)]="parameters.var" (ngModelChange)="update($event)">
        <ion-option *ngFor="let variable of pt_br.var[parameters.eixo]" [value]="variable.id">{{variable.title}}</ion-option>
    </ion-select>
  </ion-item>

  <ion-item *ngIf="parameters.ano > 0">
    <ion-label>Ano</ion-label>
    <ion-select [(ngModel)]="parameters.ano">
        <ion-option *ngFor="let ano of anos[parameters.var][parameters.slc].reverse()" [value]="ano">{{ano}}</ion-option>
    </ion-select>
  </ion-item>

  <ion-item *ngIf="parameters.cad != null">
      <ion-label>Cadeia</ion-label>
      <ion-select [(ngModel)]="parameters.cad">
          <ion-option *ngFor="let cad of cads" [value]="cad.value">{{cad.name}}</ion-option>
      </ion-select>
  </ion-item>

  <view-dados *ngIf="parameters.ano > 0" [parameters]="parameters" [url]="getQuery(parameters)"></view-dados>
  <hr>
  <view-mapa *ngIf="parameters.ano > 0" [parameters]="parameters" [url]="getQuery(parameters)"></view-mapa>
  <hr>
  <view-barras *ngIf="parameters.ano > 0" [parameters]="parameters" [url]="getQuery(parameters)"></view-barras>
  <hr>
  <view-treemap *ngIf="parameters.ano > 0" [parameters]="parameters" [url]="getQuery(parameters)"></view-treemap>
  <hr>



</ion-content>
