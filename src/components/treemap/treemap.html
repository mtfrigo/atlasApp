<div *ngIf='ready && colors' class="view">
  <svg [attr.width]="width" [attr.height]="height" [style.max-height]="'70%'">
    <g>
      <g *ngFor="let d of treemapData.leaves()" [attr.transform]="getTranslate(d)">
        <rect [attr.height]="d.y1 - d.y0" [attr.width]="d.x1 - d.x0" [attr.fill]="getColorCadeia(d.parent)"></rect>
        <text *ngIf='d.data.percentual*100 > 2' text-anchor="end" [attr.y]="textY(d.y1, d.y0)" [attr.x]="textX(d.x1, d.x0)" [attr.font-size]="getFontSize(d)">
            {{formatPercent(d.data.percentual)}}
        </text>
        <text *ngIf="testCondition(d)" text-anchor="start" [attr.font-size]="titleSize" y=20 [attr.x]="width/150">
            {{d.data.name}}
        </text>
      </g>
    </g>
  </svg>

  <ion-row style=" height: 65px; overflow: auto">
      <ion-col style="max-width: 50%; height: 100%;">
        <div *ngFor="let d of subtitles_1" class='subtitle'>
          <div [ngStyle]="getSubtitleStyle(d)"></div>
          <div class="subtitle-text"><p>{{d.name}}</p></div>
        </div>
      </ion-col>
      <ion-col style="max-width: 50%; min-height: 100%;">
        <div *ngFor="let d of subtitles_2" class='subtitle'>
          <div [ngStyle]="getSubtitleStyle(d)"></div>
          <div class="subtitle-text"><p>{{d.name}}</p></div>
        </div>
      </ion-col>

  </ion-row>
</div>
